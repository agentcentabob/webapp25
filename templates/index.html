<!-- home page -->
{% extends 'layout.html' %}
{% block head %}
  <title>Home - URBANNOTES</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock %}
{% block content %}
<body class="home-page">
  
  <!-- SECTION 1: title slide -->
  <section class="fullpage-section section-hero">
    <div class="section-overlay"></div>
    <div class="section-content">
      <h1 class="main-title">URBANNOTES</h1>
      <p class="main-subtitle">Take notes. Map ideas. Explore urban design.</p>
    </div>
  </section>

  <div class="scroll-indicator">
  <div class="scroll-arrow">‚Üì</div>
  </div>

  <!-- SECTION 2: sign up and welcome  -->
  <section class="fullpage-section section-signup">
    <div class="section-overlay"></div>>
    <div class="section-overlay"></div>
    <div class="section-content">
      {% if user %}
        <h2 class="section-title">Welcome back, {{ user['name'] }}</h2>
        <div class="recent-notes-inline">
          <h3 style="font-weight: normal; font-size: 20px">Pick up where you last left off</h3>
          {% if recent_notes %}
            <div class="notes-scroll">
              {% for note in recent_notes[:3] %}
                <a href="{{ url_for('view_note', note_id=note[1]) }}" class="note-card-inline">
                  <div class="note-title">{{ note[2] if note[2] else 'Untitled' }}</div>
                  <div class="note-meta">{{ note[4][:10] if note[4] else 'No date' }}</div>
                </a>
              {% endfor %}
            </div>
          {% else %}
            <p class="empty-state">No notes yet. Start creating!</p>
          {% endif %}
        </div>
      {% else %}
        <h2 class="section-title">Let's get started</h2>
        <p class="section-desc">Begin your journey with your URBANNOTES account</p>
        <div class="button-group">
          <a href="{{ url_for('login') }}" class="cta-btn">Login</a>
          <a href="{{ url_for('join') }}" class="cta-btn primary">Sign up</a>
        </div>
      {% endif %}
    </div>
  </section>

  <!-- SECTION 3: featured articles -->
  <section class="fullpage-section section-articles">
    <div class="section-overlay"></div>
    <div class="section-content">
        <h2 class="section-title">Featured Articles</h2>
        <h3 style="font-weight: normal; font-size: 20px"><i>This week's picks curated by our editors.</i></h3>
        <div class="featured-articles-container">
            {% if featured_articles %}
                {% for article in featured_articles[:2] %}
                    <div class="featured-card">
                        <img src="{{ url_for('static', filename='NO_IMAGE.png') }}" 
                          alt=" Cover image not available due to AI article generation limitations"
                          class="acl-card-image">
                        <h1 class="acl-card-name">{{ article[2] }}</h1>
                        <p class="acl-card-about">üìç {{ article[3] }}</p>
                        <p class="acl-card-about">üìÖ {{ article[4] }}</p>
                        <p class="acl-card-about">By <b>{{ article[12] }}</b></p>
                        <a class="acl-card-link" href="{{ url_for('article', user_id=article[0], article_id=article[1]) }}">
                            <button class="acl-read-btn">Read More</button>
                        </a>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
  </section>

  <!-- SECTION 4: note system explainer -->
  <section class="fullpage-section section-explainer">
    <div class="section-overlay"></div>
    <div class="section-content">
        <h2 class="section-title">Where ideas come alive...</h2>
        
        <div class="explainer-content">
            <div class="explainer-text">
                <div class="text-button-pair">
                    <div class="text-content">
                        <h3>Notes powered by Markdown</h3>
                        <p>Document your urban observations with our powerful markdown editor. 
                        Create rich, formatted notes with headings, lists, links, and images. 
                        Perfect for capturing transit routes, urban design details, or planning research.</p>
                    </div>
                    <a href="{{ url_for('new_note') }}" class="acl-read-btn">New Note</a>
                </div>
                
                <div class="text-button-pair">
                    <div class="text-content">
                        <h3>Organised library system</h3>
                        <p>Keep all your notes organized in one place. Search through your database by keyword 
                        location or theme. Whether you're tracking development projects 
                        or documenting transit systems, find what you need instantly.</p>
                    </div>
                    <a href="{{ url_for('render_page', page='notes') }}" class="acl-read-btn">Library</a>
                </div>
                
                <div class="text-button-pair">
                    <div class="text-content">
                        <h3>Community driven platform</h3>
                        <p>Share your insights with fellow urban enthusiasts. Read quality articles 
                        from the community, contribute your own perspectives, and build connections 
                        with people who share your passion.</p>
                    </div>
                    <a href="{{ url_for('render_page', page='articles') }}" class="acl-read-btn">Articles</a>
                </div>
                <hr><br>
                Made by Jethro Shapiro-Liu (10CPTY 2025)
            </div>
        </div>
    </div>
  </section>

  <script src="{{ url_for('static', filename='js/home.js') }}"></script>
</body>
{% endblock %}